{% extends "base.html" %}

{% block body %}
<h1>Welcome to Flask Authentication</h1>

<div class="container">
    <h1>Welcome User</h1>
    <form id="auth-form" action="{{ url_for('login') }}" method="POST">
        <input type="text" name="username"  placeholder="Username" class="input-field">
        <input type="password" name="password" placeholder="Password">
        <input type="submit" value="Login" class="btn btn-login" onclick="setActionForm('login')"/>
        <input type="button" value="Register" class="btn btn-login" onclick="setActionForm('register')"/>
    </form>

</div>
    


<script>
    /* checks if the button we clicked is the login button or register */
    function setActionForm(action){
        let form = document.getElementById("auth-form");
        if (action === 'login'){
            form.action = "{{url_for('login')}}";
            form.method = "post";
            form.submit();
        } else if ( action === 'register'){
            form.action = "{{url_for('register')}}";
            form.method = 'post';
            form.submit();
        }
        
    }
</script>
     
    {% endblock %}